---
layout: single
title:  "[Database] ER모델"
date:   2024-06-17 09:05:00 +0900
categories: Database
author_profile: true
sidebar:
  nav: "main"
tags : 
    - Database
---

## ER 모델
- EER(Enhanced Entity Relationship)모델이 데이터베이스 설계 과정에서 널리 사용되고 있습니다.
- 실세계를 엔티티, 애트리뷰트, 엔티티 간의 관계로 표현하며 쉽게 관계 데이터 모델로 사상됩니다.
- 엔티티, 관계, 애트리뷰트가 기본 구문을 구성하며, 카디날리티 비율, 참여 제약조건 등이 기타 구문으로 존재합니다.
- 이해하기 쉽고, 쉽게 배울 수 있으며 자연어보다 좀 더 정형적이고 구현에 독립적이기에 데이터베이스 설계자들이 최종 사용자들과의 의사소통에 활용하는 것에 적합합니다.

## Entity
- 하나의 엔티티는 사람, 장소, 사물, 사건 등과 같이 독립적으로 존재하면서 고유하게 식별이 가능한 실세계의 객체
- 사원처럼 실체가 있는 것도 있지만 생각이나 개념과 같이 추상적인 것도 존재합니다.

##### 엔티티 타입
- 엔티티 타입은 동일한 애트리뷰트를 가진 엔티티들의 틀입니다.
- 엔티티 집합은 동일한 애트리뷰트를 가진 엔티티들의 모임입니다.
- 하나의 엔티티는 1개 이상의 엔티티 집합에 속할 수 있습니다.
- 엔티티 타입은 관계 모델의 릴레이션의 내포에 해당하고, 엔티티 집합은 관계 모델의 릴레이션의 외연에 해당합니다.
- ER 다이어그램에서 엔티티 타입은 직사각형으로 표현됩니다.

<p align='center'><img src = "https://github.com/Bomin-Seo/project1/assets/94039896/95ef2033-dac3-43d4-afa5-ac08a753971a" height="70%" width = "70%"/></p>

##### 강한 엔티티 타입
- 강한 엔티티 타입(정규 엔티티 타입)은 독자적으로 존재하며 엔티티 타입 내에서 자신의 키 애트리뷰트를 사용하여 고유하게 엔티티들을 식별할 수 있는 엔티티 타입을 의미합니다.

##### 약한 엔티티 타입
- 약한 엔티티 타입은 키를 형성하기에 충분한 애트리뷰트들을 갖지 못한 엔티티 타입입니다.
  - 이 엔티티 타입이 존재하려면 소유 엔티티 타입이 있어야 합니다.
- 소유 엔티티 타입의 키 애트리뷰트를 결합해야만 고유하게 약한 엔티티 타입의 엔티티들을 식별할 수 있습니다.

## Attribute
- 하나의 엔티티는 연관된 애트리뷰트들의 집합으로 설명됩니다.
- 한 애트리뷰트의 도메인은 그 애트리뷰트가 가질 수 있는 모든 가능한 값들의 집합을 의미하며, 여러 애트리뷰트가 동일한 도메인을 공유할 수 있습니다.
- 키 애트리뷰트는 한 애트리뷰트 또는 애트리뷰트들의 모임으로서 한 엔티티 타입 내에서 각 엔티티를 고유하게 식별하는 것에 사용됩니다.
- ER 다이어그램에서 기본 키에 속하는 애트리뷰트는 밑줄을 그어 표시합니다.
- 요구사항 명세에서 명사나 형용사로 표현됩니다.
- 엔티티는 독립적인 의미를 갖는데 반해서 애트리뷰트는 독립적인 의미를 갖지 않습니다.
- ER 다이어그램에서 타원형으로 나타내며, 애트리뷰트와 엔티티 타입은 실선으로 연결합니다.

##### 단순 애트리뷰트(simple attribute)
- 더 이상 다른 애트리뷰트로 나눌 수 없는 애트리뷰트
- ER 다이어그램에서 실선 타원으로 표현되며, ER 다이어그램에서 대부분의 애트리뷰트는 단순 애트리뷰트입니다.

<p align='center'><img src = "https://github.com/Bomin-Seo/project1/assets/94039896/e40858f5-3e00-47f2-adf7-77a345738dd5" height="40%" width = "40%"/></p>

##### 복합 애트리뷰트(composite attribute)
- 두 개 이상의 애트리뷰트로 이루어진 애트리뷰트
- 동일한 엔티티 타입이나 관계 타입에 속하는 애트리뷰트들 중에서 밀접하게 연관된 것을 모아놓은 것입니다.

<p align='center'><img src = "https://github.com/Bomin-Seo/project1/assets/94039896/6cffcea2-7d6a-45b8-9432-e20cdd7aa166" height="40%" width = "40%"/></p>

##### 단일 값 애트리뷰트(single-valued attribute)
- 각 엔티티마다 정확하게 하나의 값을 갖는 애트리뷰트
- ER 다이어그램에서 단순 애트리뷰트와 동일하게 표현됩니다.
- ER 다이어그램에서 대부분의 애트리뷰트는 단일 값 애트리뷰트입니다.

##### 다치 애트리뷰트(multi-valued attribute)
- 각 엔티티마다 여러 개의 값을 가질 수 있는 애트리뷰트
- ER 다이어그램에서 이중선 타원으로 표현합니다.

<p align='center'><img src = "https://github.com/Bomin-Seo/project1/assets/94039896/3ca8b894-6066-4877-8968-de3af1d8dfde" height="40%" width = "40%"/></p>

##### 저장된 애트리뷰트(stored attribute)
- 다른 애트리뷰트와 독립적으로 존재하는 애트리뷰트
- ER 다이어그램에서 단순 애트리뷰트와 동일하게 표현됩니다.
- ER 다이어그램에서 대부분의 애트리뷰트는 저장된 애트리뷰트입니다.

##### 유도된 애트리뷰트(derived attribute)
 다른 애트리뷰트의 값으로부터 얻어진 애트리뷰트
 관계 데이터베이스에서 릴레이션의 애트리뷰트로 포함시키지 않는 것이 좋습니다.
 ER 다이어그램에서 점선 타원으로 표현됩니다.

<p align='center'><img src = "https://github.com/Bomin-Seo/project1/assets/94039896/54bfafb7-ffb9-4c80-83a4-55df6a808be7" height="40%" width = "40%"/></p>

<p align='center'><img src = "https://github.com/Bomin-Seo/project1/assets/94039896/702ae894-a6b9-4e4c-a5ce-8a7e0a20264c" height="70%" width = "70%"/></p>

## 약한 엔티티 타입
- 키를 형성하기에 충분한 애트리뷰트를 갖지 못한 엔티티 타입
- 약한 엔티티 타입에게 키 애트리뷰트를 제공하는 엔티티 타입을 소유 엔티티 타입(owner entity type) 또는 식별 엔티티 타입(identifying entity type)라고 지칭합니다.
- ER 다이어그램에서 이중선 직사각형으로 표기합니다.
- 약한 엔티티 타입의 부분 키는 점선 밑줄을 그어 표시합니다.
  - 부분 키(partial key): 부양가족의 이름처럼 한 사원에 속한 부양가족 내에서는 서로 다르지만 회사 전체 사원들의 부양가족들 전체에서는 같은 경우가 생길 수 있는 애트리뷰트

<p align='center'><img src = "https://github.com/Bomin-Seo/project1/assets/94039896/3c065c9b-c3f9-4b00-8d6b-c1c4f37b10c2" height="70%" width = "70%"/></p>

## 관계와 관계 타입
- 관계는 엔티티들 사이에 존재하는 연관이나 연결로서 두 개 이상의 엔티티 타입들 사이의 사상으로 생각할 수 있습니다.
- 관계 집합은 동질의 관계들의 집합  / 관계 타입은 동질의 관계들의 틀
- 요구사항 명세에서 흔히 동사는 ER 다이어그램에서 관계로 표현됩니다.
- ER 다이어그램에서 다이어몬드로 표기합니다.
- 관계 타입이 서로 연관시키는 엔티티 타입들을 관계 타입에 실선으로 연결합니다.

<p align='center'><img src = "https://github.com/Bomin-Seo/project1/assets/94039896/5d77a54a-fc64-4ddc-9882-3f90714a04ac" height="70%" width = "70%"/></p>

##### 관계 애트리뷰트
- 관계 타입은 관계의 특징을 기술하는 애트리뷰트를 가질 수 있으며 키 애트리뷰트를 가지지 않습니다.

<p align='center'><img src = "https://github.com/Bomin-Seo/project1/assets/94039896/7775270d-faa5-4ceb-833d-e1e991352805" height="50%" width = "50%"/></p>

## 차수
- 관계로 연결된 엔티티 타입들의 개수를 의미하며 2진 관계가 가장 흔한 관계 타입입니다.

<p align='center'><img src = "https://github.com/Bomin-Seo/project1/assets/94039896/df0264ef-be70-4c79-ae48-79c222ff8a28" height="50%" width = "50%"/></p>

## 카디날리티 비율
- 카디날리티 비율은 한 엔티티가 참여할 수 있는 관계의 수를 나타냅니다.
- 관계 타입에 참여하는 엔티티들의 가능한 조합을 제한합니다.
- 관계를 흔히 1:1, 1:N, M:N으로 구분합니다.
- 카디날리티 비율에 관한 정보는 간선 위에 표현합니다.

<p align='center'><img src = "https://github.com/Bomin-Seo/project1/assets/94039896/a9380de8-577a-4142-963d-4b56d41466e5" height="50%" width = "50%"/></p>

##### 1:1 관계
- E1의 각 엔티티가 정확하게 E2의 한 엔티티와 연관되고, E2의 각 엔티티가 정확하게 E1의 한 엔티티와 연관되면 이 관계를 1:1 관계라고 지칭합니다.

##### 1:N 관계
- E1의 각 엔티티가 E2의 임의의 개수의 엔티티와 연관되고, E2의 각 엔티티는 정확하게 E1의 한 엔티티와 연관되면 이 관계를 1:N 관계라고 지칭합니다.
- 실세계에서 가장 흔히 나타나는 관계입니다.

##### M:N 관계
- 한 엔티티 타입에 속하는 임의의 개수의 엔티티가 다른 엔티티 타입에 속하는 임의의 개수의 엔티티와 연관되는 관계입니다.

##### 카디날리티 비율의 최소값과 최대값
- ER 다이어그램에서 관계 타입과 엔티티 타입을 연결하는 실선 위에 (min, max) 형태로 표기합니다.
- 어떤 관계 타입에 참여하는 각 엔티티 타입에 대하여 min은 이 엔티티 타입 내의 각 엔티티는 적어도 min 번 관계에 참여함을 의미합니다.
- max는 이 엔티티 타입 내의 각 엔티티는 최대한 max 번 관계에 참여함을 의미합니다.
- min=0은 어떤 엔티티가 반드시 관계에 참여해야 할 필요는 없음을 의미합니다.
- max=*는 어떤 엔티티가 관계에 임의의 수만큼 참여할 수 있음을 의미합니다.

<p align='center'><img src = "https://github.com/Bomin-Seo/project1/assets/94039896/42857813-fb60-419b-a201-46c0f8d04717" height="50%" width = "50%"/></p>

## 역할(role)
- 관계 타입의 의미를 명확하게 하기 위해 사용됩니다.
- 특히 하나의 관계 타입에 하나의 엔티티 타입이 여러 번 나타나는 경우에는 반드시 역할을 표기해야 합니다.
- 관계 타입의 간선 위에 표시합니다.

<p align='center'><img src = "https://github.com/Bomin-Seo/project1/assets/94039896/81f6e565-1afe-4160-88ab-63e140e26649" height="50%" width = "50%"/></p>

## 전체 참여와 부분 참여
- 전체 참여는 어떤 관계에 엔티티 타입 E1의 모든 엔티티들이 관계 타입 R에 의해서 어떤 엔티티 타입 E2의 어떤 엔티티와 연관되는 것을 의미합니다.
- 부분 참여는 어떤 관계에 엔티티 타입 E1의 일부 엔티티만 참여하는 것을 의미합니다.
- 약한 엔티티 타입은 항상 관계에 전체 참여입니다.
- 전체 참여는 ER 다이어그램에서 이중 실선으로 표시합니다.
- 카디날리티 비율과 함께 참여 제약조건은 관계에 대한 중요한 제약조건입니다.

<p align='center'><img src = "https://github.com/Bomin-Seo/project1/assets/94039896/7ea10d1a-0335-4ffe-a02f-eac791747232" height="70%" width = "70%"/></p>

## 다중 관계
- 두 엔티티 타입 사이에 두 개 이상의 관계 타입이 존재할 수 있습니다.

<p align='center'><img src = "https://github.com/Bomin-Seo/project1/assets/94039896/f07f6064-1a16-4c8b-a7ef-8eb0fcdb6c2f" height="70%" width = "70%"/></p>

## 순환적 관계
- 하나의 엔티티 타입이 동일한 관계 타입에 두 번 이상 참여하는 관계입니다.

<p align='center'><img src = "https://github.com/Bomin-Seo/project1/assets/94039896/74da8c5b-4a67-46be-907f-5baa8a9ad3fd" height="50%" width = "50%"/></p>

## ER스키마 작성시
- 엔티티는 키 애트리뷰트 이외에 설명 정보를 추가로 가집니다.
- 다치 애트리뷰트는 엔티티로 분류합니다.
- 가능한 한 복합 식별자를 피합니다.

## Crow-feet 표기법

<p align='center'><img src = "https://github.com/Bomin-Seo/project1/assets/94039896/4fd2778b-af00-49ce-8519-6f9afff12e2a" height="70%" width = "70%"/></p>

<p align='center'><img src = "https://github.com/Bomin-Seo/project1/assets/94039896/e97fd77a-aba1-43c7-bc4a-e4b11f87e8cd" height="70%" width = "70%"/></p>