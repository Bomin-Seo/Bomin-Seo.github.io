---
layout: single
title:  "[JavaSpring] JWT"
date:   2024-05-28 09:00:00 +0900
categories: JavaSpring
author_profile: true
sidebar:
  nav: "main"
tags : 
    - JavaSpring
---

## Cookie
- 클라이언트에 저장될 목적으로 생성한 작은 정보를 담은 파일입니다.

##### 구성요소
- Name : 쿠키를 구별하는데 사용되는 키
- Value : 쿠키의 값
- Domain : 쿠기가 저장된 도메인
- Path : 쿠기 사용 경로
- Expires : 쿠키의 만료 기한

## Session
- 서버에서 일정시간 동안 클라이언트 상태를 유지하기 위해 사용됩니다.
- 서버에서 클라이언트별로 유일무이한 session ID를 부여한 후 클라이언트별 필요한 정보를 서버에 저장합니다.
- 서버에서 생성한 Session ID는 클라이언트의 쿠키값으로 저장되어 클라이언트 식별에 사용됩니다.

<p align='center'><img src = "https://github.com/Bomin-Seo/project1/assets/94039896/aaa424dc-aa9b-464a-9ec3-21896a2116c1" height="60%" width = "60%"/></p>

1. 클라이언트가 서버에 1번 요청
2. 서버가 세션ID 를 생성하고, 쿠키에 담아 응답 헤더에 전달
  - 세션 ID 형태: "SESSIONID = 12A345"
3. 클라이언트가 쿠키에 세션ID를 저장 ('세션쿠키')
4. 클라이언트가 서버에 2번 요청
  - 쿠키값 (세션 ID) 포함하여 요청
5. 서버가 세션ID 를 확인하고, 1번 요청과 같은 클라이언트임을 인지

## 쿠키와 세션 비교

||쿠키|세션|
|:---:|:---:|:---:|
|설명|클라이언트에 저장될 목적으로 생성한 작은 정보를 담은 파일|서버에서 일정시간 동안 클라이언트 상태를 유지하기 위해 사용|
|저장 위치	클라이언트 (웹 브라우져)	웹 서버
|사용 예	사이트 팝업의 "오늘 다시보지 않기" 정보 저장	로그인 정보 저장
|만료 시점|쿠키 저장 시 만료일시 설정 가능(브라우져 종료시도 유지 가능)|	다음 조건 중 하나가 만족될 경우 만료됨
1. 브라우져 종료 시까지
2. 클라이언트 로그아웃 시까지
3. 서버에 설정한 유지기간까지 해당 클라이언트의 재요청이 없는 경우|
용량 제한	브라우져 별로 다름 (크롬 기준)
- 하나의 도메인 당 180개
- 하나의 쿠키 당 4KB(=4096byte)	개수 제한 없음 
(단, 세션 저장소 크기 이상 저장 불가능)
보안	취약
(클라이언트에서 쿠키 정보를 쉽게 변경, 삭제 및 가로채기 당할 수 있음)	비교적 안전
(서버에 저장되기 때문에 상대적으로 안전)